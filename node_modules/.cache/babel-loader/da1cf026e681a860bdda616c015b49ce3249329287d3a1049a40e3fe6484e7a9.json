{"ast":null,"code":"import'./App.css';import{useState,useEffect}from\"react\";import TodoInput from'./components/TodoInput';import TodoList from'./components/TodoList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[todo,setTodo]=useState(\"\");const[todos,setTodos]=useState([]);useEffect(()=>{fetch('/api/data').then(response=>response.json()).then(data=>setData(data));},[]);const addToDo=()=>{if(todo!==\"\"){fetch('http://localhost:8081/addTodo',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({task:todo})}).then(response=>response.json()).then(newTodo=>{// Update the state with the new todo\nsetTodos([...todos,newTodo]);setTodo(\"\");// Clear the todo input field\n}).catch(err=>console.log(err));}};const deleteToDo=todoId=>{fetch(\"http://localhost:8081/deleteTodo/\".concat(todoId),{method:'DELETE'}).then(response=>response.json()).then(()=>{const newTodos=todos.filter(todo=>todo.id!==todoId);setTodos(newTodos);}).catch(err=>console.log(err));};const[data,setData]=useState([]);useEffect(()=>{fetch('http://localhost:8081/users').then(res=>res.json()).then(data=>{setData(data);}).catch(err=>console.log(err));},[todos]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"React To Do App\"}),/*#__PURE__*/_jsx(TodoInput,{todo:todo,setTodo:setTodo,addTodo:addToDo}),/*#__PURE__*/_jsx(TodoList,{todos:data,deleteToDo:deleteToDo})]});}export default App;","map":{"version":3,"names":["useState","useEffect","TodoInput","TodoList","jsx","_jsx","jsxs","_jsxs","App","todo","setTodo","todos","setTodos","fetch","then","response","json","data","setData","addToDo","method","headers","body","JSON","stringify","task","newTodo","catch","err","console","log","deleteToDo","todoId","concat","newTodos","filter","id","res","className","children","addTodo"],"sources":["/Users/varunagarwal/Documents/React/todoapp/src/App.js"],"sourcesContent":["import './App.css';\nimport { useState, useEffect } from \"react\";\nimport TodoInput from './components/TodoInput';\nimport TodoList from './components/TodoList';\n\nfunction App() {\n  const [todo, setTodo] = useState(\"\");\n  const [todos, setTodos] = useState([]);\n  useEffect(() => {\n    fetch('/api/data')\n    .then(response => response.json())\n    .then(data => setData(data));\n  }, []);\n  const addToDo = () => {\n    if (todo !== \"\") {\n      fetch('http://localhost:8081/addTodo', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ task: todo }),\n      })\n      .then(response => response.json())\n      .then(newTodo => {\n        // Update the state with the new todo\n        setTodos([...todos, newTodo]);\n        setTodo(\"\"); // Clear the todo input field\n      })\n      .catch(err => console.log(err));\n    }\n  }\n  \n  const deleteToDo = (todoId) => {\n    fetch(`http://localhost:8081/deleteTodo/${todoId}`, {\n      method: 'DELETE',\n    })\n    .then(response => response.json())\n    .then(() => {\n      const newTodos = todos.filter((todo) => todo.id !==todoId);\n      setTodos(newTodos);\n    })\n    .catch(err => console.log(err));\n  };\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch('http://localhost:8081/users')\n      .then(res => res.json())\n      .then(data => {\n        setData(data);\n      })\n      .catch(err => console.log(err));\n  }, [todos]);\n  return (\n    <div className=\"App\">\n      <h1>React To Do App</h1>\n      \n    \n      <TodoInput todo={todo} setTodo={setTodo} addTodo={addToDo} />\n      <TodoList todos={data} deleteToDo={deleteToDo} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}